netsim_enable_metrics: true
stub_school_data: true
daemon: true

# test environment should use precompiled, minified, digested assets like production,
# unless it's being used for unit tests. This logic should be kept in sync with
# the logic for setting config.assets.* under dashboard/config/.
pretty_js: <%=ci_test%>

# Since channel ids are derived from user id and other sequential integer ids
# use a new S3 sources directory for each Test Build to prevent a UI test
# from inadvertently using a channel id from a previous Test Build.
# CircleCI environments already override the sources_s3_directory setting to suffix it with the Circle Build number:
# https://github.com/code-dot-org/code-dot-org/blob/fb53af48ec0598692ed19f340f26d2ed0bd9547b/.circleci/config.yml#L153
# Detect Circle environment just to be safe.
sources_s3_directory: sources_test<%=ENV['CIRCLECI'] ? '' : "/#{GitUtils.git_revision_short(root_dir)}"%>
